<html>
    <head>
        <meta charset="utf-8">
        <title>SSの車両フラグ</title>
    </head>
    <style>
        td {
            text-align: center;
            min-width: 50px;
        }

        tr:nth-of-type(4n-3) td {
            border-top: 2px solid black;
        }

        tr:nth-of-type(4n) td {
            border-bottom: 2px solid black;
        }

        .flg-name {
            text-align: left;
            padding: 0px 15px;
        }

        .no-info {
            background-color: lightgray;
        }
    </style>
    <body>
        <h1>SSの車両フラグ</h1>
        <div>運転中に車両自体がどのような状態かの「trainBtlFlg」</div>
        <div>コミックスクリプトや、車両の特殊技などに関する、「TRAIN_PARAM_FLAG」</div>
        <div>SSで使う車両のフラグは大きく2種類ある</div>
        <div>
            <h1>trainBtlFlg</h1>
            <div>このフラグは下記のように64個定義されており、</div>
            <div>最後の要素はフラグのMAX値判定であるため使わない</div>
            <br>
            <table border="1">
                <thead>
                    <tr>
                        <th>番号</th>
                        <th>フラグ名称</th>
                        <th>説明</th>
                        <th>備考</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td class="flg-name">eTBF_CNG_F_TRACK</td>
                        <td>前の台車が転線したフラグ。<br>ドリフト中～着地まで転線したとみなす</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td class="flg-name">eTBF_CNG_B_TRACK</td>
                        <td>後ろの台車が転線したフラグ。<br>ドリフト中～着地まで転線したとみなす</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td class="flg-name">eTBF_DRIFT</td>
                        <td>ドリフト中（水色の状態）</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td class="flg-name">eTBF_JMP_F_TRACK</td>
                        <td>前の台車がジャンプしたフラグ。<br>ドリフトもジャンプしたとみなす</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td class="flg-name">eTBF_JMP_B_TRACK</td>
                        <td>後ろの台車がジャンプしたフラグ。<br>ドリフトもジャンプしたとみなす</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>6</td>
                        <td class="flg-name">eTBF_F_DRIFT_TO_B_DRIFT</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr class="no-info">
                        <td>7</td>
                        <td class="flg-name">eTBF_F_DRIFT_TO_B_DRIFT_END_RESEARV</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr class="no-info">
                        <td>8</td>
                        <td class="flg-name">eTBF_SEARCH_DRIFT_FRONT</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr class="no-info">
                        <td>9</td>
                        <td class="flg-name">eTBF_SEARCH_DRIFT_BACK</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td class="flg-name">eTBF_R_MOVE</td>
                        <td>先頭車両が右方向にドリフトしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td class="flg-name">eTBF_L_MOVE</td>
                        <td>先頭車両が左方向にドリフトしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td class="flg-name">eTBF_BR_MOVE</td>
                        <td>先頭車両が右方向に後輪ドリフトしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td class="flg-name">eTBF_BL_MOVE</td>
                        <td>先頭車両が左方向に後輪ドリフトしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>14</td>
                        <td class="flg-name">eTBF_BR_COMP_TO_END</td>
                        <td>右に移動し、後輪ドリフト解除時のフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td class="flg-name">eTBF_BL_COMP_TO_END</td>
                        <td>左に移動し、後輪ドリフト解除時のフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>16</td>
                        <td class="flg-name">eTBF_1WHEEL_DRIFT_R</td>
                        <td>右方向の片輪ドリフトしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>17</td>
                        <td class="flg-name">eTBF_1WHEEL_DRIFT_L</td>
                        <td>左方向の片輪ドリフトしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>18</td>
                        <td class="flg-name">eTBG_HAKO</td>
                        <td>ハコ乗りしたときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>19</td>
                        <td class="flg-name">eTBF_R_FIRE</td>
                        <td>右車輪の火花フラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>20</td>
                        <td class="flg-name">eTBF_L_FIRE</td>
                        <td>左車輪の火花フラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>21</td>
                        <td class="flg-name">eTBF_R_WHEEL</td>
                        <td>右片輪走行中のフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>22</td>
                        <td class="flg-name">eTBF_L_WHEEL</td>
                        <td>左片輪走行中のフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>23</td>
                        <td class="flg-name">eTBF_RET_WHEEL</td>
                        <td>限界まで片輪走行し、戻ろうとするフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>24</td>
                        <td class="flg-name">eTBF_FIT_R_FIRE</td>
                        <td>ドリフトや片輪走行で戻るときの、<br>右車輪が【着地時】の火花フラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>25</td>
                        <td class="flg-name">eTBF_FIT_L_FIRE</td>
                        <td>ドリフトや片輪走行で戻るときの、<br>左車輪が【着地時】の火花フラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>26</td>
                        <td class="flg-name">eTBF_FIRE_BREAKE</td>
                        <td>ブレーキによる火花フラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>27</td>
                        <td class="flg-name">eTBF_BOOST</td>
                        <td>ライトニングフルノッチのフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>28</td>
                        <td class="flg-name">eTBF_KUTEN</td>
                        <td>空転の火花フラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>29</td>
                        <td class="flg-name">eTBF_ST_FIRE</td>
                        <td>【推測】車輪に火花がでるときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>30</td>
                        <td class="flg-name">eTBF_R_ATK</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr class="no-info">
                        <td>31</td>
                        <td class="flg-name">eTBF_L_ATK</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr class="no-info">
                        <td>32</td>
                        <td class="flg-name">eTBF_CLASH</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr>
                        <td>33</td>
                        <td class="flg-name">eTBF_CLASH_LINE_CNG</td>
                        <td>転線中に車両にぶつけたときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>34</td>
                        <td class="flg-name">eTBF_NO_OUTRUN</td>
                        <td>コミックスクリプトによる、NO_OUTRUNのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>35</td>
                        <td class="flg-name">eTBF_ALL_FIT</td>
                        <td>コミックスクリプトによる、ALL_FITのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>36</td>
                        <td class="flg-name">eTBF_R_OUT</td>
                        <td>右側に脱線したフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>37</td>
                        <td class="flg-name">eTBF_L_OUT</td>
                        <td>左側に脱線したフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>38</td>
                        <td class="flg-name">eTBF_OUTRUN_JUMP</td>
                        <td>脱線して戻るときにジャンプしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>39</td>
                        <td class="flg-name">eTBF_1TRACK_DRIFT_R</td>
                        <td>右側の単線ドリフトフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>40</td>
                        <td class="flg-name">eTBF_1TRACK_DRIFT_L</td>
                        <td>左側の単線ドリフトフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>41</td>
                        <td class="flg-name">eTBG_FRONT_TRAIN_NO_RUN</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr>
                        <td>42</td>
                        <td class="flg-name">eTBF_CLASH_FLY</td>
                        <td>バレルロールなどの、クラッシュして飛ぶフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>43</td>
                        <td class="flg-name">eTBF_HI_JUMP</td>
                        <td>【推測】高くジャンプできるときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>44</td>
                        <td class="flg-name">eTBF_HI_JUMP_NOW</td>
                        <td>【推測】高くジャンプ中のフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>45</td>
                        <td class="flg-name">eTBF_LV_JUMP</td>
                        <td>ある坂で指定速度以上になり、ジャンプしたフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>46</td>
                        <td class="flg-name">eTBF_HUMIKIRI</td>
                        <td>踏切を渡るときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>47</td>
                        <td class="flg-name">eTBF_BRIDGE</td>
                        <td>橋を渡るときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>48</td>
                        <td class="flg-name">eTBF_DOSAN_AREA</td>
                        <td>土讃線ジャンプできる「領域に入った」ときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>49</td>
                        <td class="flg-name">eTBF_DOSAN_ENABLE</td>
                        <td>土讃線ジャンプできる「条件が全部揃った」ときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>50</td>
                        <td class="flg-name">eTBF_DOSAN_SKY</td>
                        <td>【推測】土讃線ジャンプ中のフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>51</td>
                        <td class="flg-name">eTBF_DOSAN_BOUND_F</td>
                        <td>【推測】土讃線で着地時、前の台車が跳ねるときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>52</td>
                        <td class="flg-name">eTBF_DOSAN_BOUND_B</td>
                        <td>【推測】土讃線で着地時、後ろの台車が跳ねるときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>53</td>
                        <td class="flg-name">eTBF_CLASH_CAM_TAGE</td>
                        <td>バレルロールなどの、クラッシュして飛ぶときのカメラフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>54</td>
                        <td class="flg-name">eTBF_STOP</td>
                        <td>「TRAIN_PARAM_SC_STOP」が設定されたときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>55</td>
                        <td class="flg-name">eTBF_TRACK_CAUTION</td>
                        <td>（初期化のみして、使わない）</td>
                        <td>未詳</td>
                    </tr>
                    <tr class="no-info">
                        <td>56</td>
                        <td class="flg-name">eTBF_TRACK_ERR</td>
                        <td></td>
                        <td>未詳</td>
                    </tr>
                    <tr>
                        <td>57</td>
                        <td class="flg-name">eTBF_CLASH_STOP</td>
                        <td>クラッシュして強制的に止まったときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>58</td>
                        <td class="flg-name">eTBF_ONE_DRIFT_FALSE</td>
                        <td>コミックスクリプトの、「ONE_DRIFT_FALSE」のフラグ</td>
                        <td>動作はあるが、<br>設定方法がない</td>
                    </tr>
                    <tr class="no-info">
                        <td>59</td>
                        <td class="flg-name">eTBF_TRACK_MOVE</td>
                        <td>コミックスクリプトの、「TRACK_MOVE」のフラグ</td>
                        <td>動作はあるが、<br>設定方法がない</td>
                    </tr>
                    <tr class="no-info">
                        <td>60</td>
                        <td class="flg-name">eTBF_LIGHT_OFF</td>
                        <td>【推測】ライトを消すフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>61</td>
                        <td class="flg-name">eTBF_SCRIPT_KATARIN</td>
                        <td>コミックスクリプトの、「KATARIN_RUN」のフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>62</td>
                        <td class="flg-name">eTBF_SCRIPT_OUTRUN</td>
                        <td>コミックスクリプトの、「SC_OUTRUN」のフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>63</td>
                        <td class="flg-name">eTBF_ONE_CLASH</td>
                        <td>片輪ドリフト中、ホームなどでぶつけたときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>64</td>
                        <td class="flg-name">eTBF_MAX</td>
                        <td>フラグのMAX値</td>
                        <td>使わない</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <br>
        <div>
            <h1>TRAIN_PARAM_FLAG</h1>
            <div>このフラグは下記のように32個定義されており、</div>
            <div>コミックスクリプトによるフラグが多い</div>
            <br>
            <table border="1">
                <thead>
                    <th>番号</th>
                    <th>フラグ名称</th>
                    <th>数値</th>
                    <th>説明</th>
                    <th>備考</th>
                </thead>
                <tbody>
                    <tr class="no-info">
                        <td>No.0</td>
                        <td>TRAIN_PARAM_NONE</td>
                        <td>0</td>
                        <td>なし</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>No.1</td>
                        <td>TRAIN_PARAM_BOOST</td>
                        <td>1</td>
                        <td>ライトニングフルノッチしたときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.2</td>
                        <td>TRAIN_PARAM_BREAKE</td>
                        <td>2</td>
                        <td>ブレーキしたときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.3</td>
                        <td>TRAIN_PARAM_SP_BREAKE</td>
                        <td>4</td>
                        <td>非常ブレーキしたときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.4</td>
                        <td>未定義</td>
                        <td>-</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.5</td>
                        <td>TRAIN_PARAM_CLASH</td>
                        <td>16</td>
                        <td>車両をぶつけたときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.6</td>
                        <td>TRAIN_PARAM_TOP_OUTRUN</td>
                        <td>32</td>
                        <td>先頭車両が脱線したときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.7</td>
                        <td>TRAIN_PARAM_OTHER_OUTRUN</td>
                        <td>64</td>
                        <td>先頭車両以外が脱線したときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.8</td>
                        <td>未定義</td>
                        <td>-</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.9</td>
                        <td>TRAIN_PARAM_OUT</td>
                        <td>256</td>
                        <td>自走不能のフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.10</td>
                        <td>未定義</td>
                        <td>-</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.11</td>
                        <td>TRAIN_PARAM_BRIDGE_TOP</td>
                        <td>1024</td>
                        <td>先頭車両が橋を渡るときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.12</td>
                        <td>未定義</td>
                        <td>-</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.13</td>
                        <td>未定義</td>
                        <td>-</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.14</td>
                        <td>TRAIN_PARAM_SC_FIRE</td>
                        <td>8192</td>
                        <td>【推測】スクリプトで、車輪の火花が出るようにするフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>No.15</td>
                        <td>TRAIN_PARAM_SLEEP</td>
                        <td>16384</td>
                        <td>コミックスクリプトの「SLEEP_TRAIN」を適用するフラグ</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>No.16</td>
                        <td>TRAIN_PARAM_SC_KUTEN</td>
                        <td>32768</td>
                        <td>車輪の火花が続けて出る、空転状態にするフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.17</td>
                        <td>TRAIN_PARAM_SC_STOP</td>
                        <td>65536</td>
                        <td>【推測】スクリプトで、運転できないようにするフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>No.18</td>
                        <td>TRAIN_PARAM_SC_GO</td>
                        <td>131072</td>
                        <td>コミックスクリプトの「GOING」を適用するフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.19</td>
                        <td>TRAIN_PARAM_L_HAKO</td>
                        <td>262144</td>
                        <td>【推測】左側に、ハコ乗りしたときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>No.20</td>
                        <td>TRAIN_PARAM_R_HAKO</td>
                        <td>524288</td>
                        <td>【推測】右側に、ハコ乗りしたときのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr>
                        <td>No.21</td>
                        <td>TRAIN_PARAM_DRIFT2</td>
                        <td>1048576</td>
                        <td>立ち上がりのドリフトをしたときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.22</td>
                        <td>TRAIN_PARAM_ONE_DRIFT_FALSE</td>
                        <td>2097152</td>
                        <td>コミックスクリプトの「ONE_DRIFT_FALSE」を適用するフラグ</td>
                        <td>動作はあるが、<br>設定方法がない</td>
                    </tr>
                    <tr class="no-info">
                        <td>No.23</td>
                        <td>TRAIN_PARAM_BACK</td>
                        <td>4194304</td>
                        <td>【推測】推進運転のフラグ</td>
                        <td>動作はあるが、<br>設定方法がない</td>
                    </tr>
                    <tr>
                        <td>No.24</td>
                        <td>TRAIN_PARAM_ALL_FIT</td>
                        <td>8388608</td>
                        <td>コミックスクリプトの「ALL_FIT」を適用するフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.25</td>
                        <td>TRAIN_PARAM_ENGINE</td>
                        <td>16777216</td>
                        <td>エンジン発動させたときのフラグ</td>
                        <td>動作はあるが、<br>設定方法がない</td>
                    </tr>
                    <tr>
                        <td>No.26</td>
                        <td>TRAIN_PARAM_TARBIN</td>
                        <td>33554432</td>
                        <td>ガスタービン・920系になるときのフラグ</td>
                        <td></td>
                    </tr>
                    <tr class="no-info">
                        <td>No.27</td>
                        <td>TRAIN_PARAM_TRUE_OUT</td>
                        <td>67108864</td>
                        <td>コミックスクリプトの「TRUE_CLASH」を適用するフラグ</td>
                        <td>動作はあるが、<br>設定方法がない</td>
                    </tr>
                    <tr class="no-info">
                        <td>No.28</td>
                        <td>TRAIN_PARAM_RETURN</td>
                        <td>134217728</td>
                        <td>【推測】折り返しのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>No.29</td>
                        <td>TRAIN_PARAM_BRINDATK</td>
                        <td>268435456</td>
                        <td>【推測】ブラインドアタックのフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>No.30</td>
                        <td>TRAIN_PARAM_SOFT_ATK</td>
                        <td>536870912</td>
                        <td>コミックスクリプトの「SOFT_ATK」を適用するフラグ</td>
                        <td>使わない</td>
                    </tr>
                    <tr class="no-info">
                        <td>No.31</td>
                        <td>TRAIN_PARAM_FRONT_STOP</td>
                        <td>1073741824</td>
                        <td>先頭車両が自走不能になったときのフラグ</td>
                        <td>動作はあるが、<br>設定方法がない</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>